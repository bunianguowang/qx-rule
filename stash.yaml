# subscribe-url: https://å…æµæœºåœºè®¢é˜…

mode: rule
log-level: info
external-controller: 127.0.0.1:9090
http:
  ca: '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'
  ca-passphrase: 'C4326F69'
script:
  shortcuts:
    quic: network == 'udp' and (dst_port == 443 or dst_port == 4483 or dst_port == 9305)
    udpAppleProxy: network == 'udp' and match_provider('AppleProxy')
    udpApple: network == 'udp' and match_provider('Apple')
    udpGlobal: network == 'udp' and match_provider('Global')
    udpGlobalDomain: network == 'udp' and match_provider('Global_Domain')
    udpTelegram: network == 'udp' and match_provider('Telegram')
    udpChina: network == 'udp' and match_provider('China')
    udpCN: network == 'udp' and geoip(dst_ip if dst_ip != '' else resolve_ip(host)) == 'CN'
    udpMatch: network == 'udp'
    limitedApple: network == 'tcp' and (dst_port == 443 or dst_port == 80) and match_provider('Apple')
    limitedChina: network == 'tcp' and (dst_port == 443 or dst_port == 80) and match_provider('China')
    limitedCN: network == 'tcp' and (dst_port == 443 or dst_port == 80) and geoip(dst_ip if dst_ip != '' else resolve_ip(host)) == 'CN'
dns:
  default-nameserver:
  - 119.29.29.29
  - 223.5.5.5
  - system
  nameserver:
  - 119.29.29.29
  - 223.5.5.5
  - system
  fallback:
  - https://223.5.5.5/dns-query
  - https://1.12.12.12/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    domain:
    - +.google.com
    - +.facebook.com
    - +.twitter.com
    - +.youtube.com
    - +.xn--ngstr-lra8j.com
    - +.google.cn
    - +.googleapis.cn
    - +.googlevideo.com
    - +.gvt1.com
    - +.github.com
    - +.githubusercontent.com
    ipcidr:
    - 0.0.0.0/8
    - 10.0.0.0/8
    - 100.64.0.0/10
    - 127.0.0.0/8
    - 169.254.0.0/16
    - 172.16.0.0/12
    - 192.0.0.0/24
    - 192.0.2.0/24
    - 192.88.99.0/24
    - 192.168.0.0/16
    - 198.18.0.0/15
    - 198.51.100.0/24
    - 203.0.113.0/24
    - 224.0.0.0/4
    - 240.0.0.0/4
    - 255.255.255.255/32
  fake-ip-filter:
  - '+.cn'
  - '+.10010.com'
  - '+.chinaunicom.com'
  - '+.baidu.com'
  - '+.alipay.com'
  - '+.alipayobjects.com'
  - '+.dl.google.com'
  - '+.jijifun.com'
  - 'connect.rom.miui.com'
  - 'captive.apple.com'
  - 'wifi.vivo.com.cn'
  - 'localhost.ptlogin2.qq.com'
  - '+.msftnsci.com'
  - '+.msftconnecttest.com'
  - '+.gstatic.com'
  - '+.stun.*.*'
  - '+.stun.*.*.*'
  - '+.stun.*.*.*.*'
  - '+.time.*'
  - '+.time.*.*'
  - '+.time.*.*.*'
  - 'time1.*.com'
  - 'time2.*.com'
  - 'time3.*.com'
  - 'time4.*.com'
  - 'time5.*.com'
  - 'time6.*.com'
  - 'time7.*.com'
  - 'ntp1.*.com'
  - 'ntp2.*.com'
  - 'ntp3.*.com'
  - 'ntp4.*.com'
  - 'ntp5.*.com'
  - 'ntp6.*.com'
  - 'ntp7.*.com'
  - '+.ntp.*'
  - '+.ntp.*.*'
  - '+.ntp.*.*.*'
  - '+.lan'
  - '+.localdomain'
  - '+.example'
  - '+.invalid'
  - '+.localhost'
  - '+.test'
  - '+.local'
  - '+.home.arpa'
  - 'time1.cloud.tencent.com'
  - '+.music.163.com'
  - '+.126.net'
  - 'musicapi.taihe.com'
  - 'music.taihe.com'
  - 'songsearch.kugou.com'
  - 'trackercdn.kugou.com'
  - '+.kuwo.cn'
  - 'api-jooxtt.sanook.com'
  - 'api.joox.com'
  - 'joox.com'
  - '+.y.qq.com'
  - 'streamoc.music.tc.qq.com'
  - 'mobileoc.music.tc.qq.com'
  - 'isure.stream.qqmusic.qq.com'
  - 'dl.stream.qqmusic.qq.com'
  - 'aqqmusic.tc.qq.com'
  - 'amobile.music.tc.qq.com'
  - '+.xiami.com'
  - '+.music.migu.cn'
  - '+.msftncsi.com'
  - 'localhost.sec.qq.com'
  - '+.srv.nintendo.net'
  - '+.stun.playstation.net'
  - 'xbox.*.microsoft.com'
  - '+.xboxlive.com'
  - '+.battlenet.com.cn'
  - '+.wotgame.cn'
  - '+.wggames.cn'
  - '+.wowsgame.cn'
  - '+.wargaming.net'
  - 'proxy.golang.org'
  - 'heartbeat.belkin.com'
  - '+.linksys.com'
  - '+.linksyssmartwifi.com'
  - '+.router.asus.com'
  - 'mesu.apple.com'
  - 'swscan.apple.com'
  - 'swquery.apple.com'
  - 'swdownload.apple.com'
  - 'swcdn.apple.com'
  - 'swdist.apple.com'
  - 'lens.l.google.com'
  - 'stun.l.google.com'
  - '+.nflxvideo.net'
  - '+.square-enix.com'
  - '+.finalfantasyxiv.com'
  - '+.ffxiv.com'
  - '+.mcdn.bilivideo.cn'
  - 'WORKGROUP'
proxies:
- name: "ğŸ†“ç™¾åº¦"
  type: http
  server: 157.0.148.53
  port: 443
  headers:
    X-T5-Auth: "1962898709"
    User-Agent: "okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Redmi K30 5G Build/RKQ1.200826.002)
      baiduboxapp/11.0.5.12 (Baidu; P1 11)"
- name: "ğŸ†“UC"
  type: http
  server: 101.71.140.5
  port: 8128
  username: uc10.7.163.144
  password: 1f47d3ef53b035443451c7ee7873ff38
proxy-groups:
- name: "ğŸ‡¨ğŸ‡³UDP"
  type: select
  proxies:
    - "ğŸ‡¨ğŸ‡³å¢™å†…"
    - "ğŸ†“ğŸ‡¨ğŸ‡³UDP"
  ssid-policy:
    cellular: "ğŸ†“ğŸ‡¨ğŸ‡³UDP"
    default: "ğŸ‡¨ğŸ‡³å¢™å†…"
- name: "ğŸ†“ğŸ‡¨ğŸ‡³UDP"
  type: select
  proxies:
    - "UDP-ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-select"
    - "UDP-ğŸ†“ğŸŒ‘âœˆï¸-select"
    - "ğŸ†“ğŸ‡¨ğŸ‡³å¢™å†…"
- name: "ğŸŒ‘UDP"
  type: select
  proxies:
    - "ğŸŒ‘å¢™å¤–"
    - "ğŸ†“ğŸŒ‘UDP"
  ssid-policy:
    cellular: "ğŸ†“ğŸŒ‘UDP"
    default: "ğŸŒ‘å¢™å¤–"
- name: "ğŸ†“ğŸŒ‘UDP"
  type: select
  proxies:
    - "UDP-ğŸ†“ğŸŒ‘âœˆï¸-select"
    - "UDP-ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-select"
    - "ğŸ†“ğŸŒ‘å¢™å¤–"
- name: "ğŸ‡¨ğŸ‡³å¢™å†…"
  type: select
  proxies:
    - DIRECT
    - "ğŸ†“ğŸ‡¨ğŸ‡³å¢™å†…"
  ssid-policy:
    cellular: "ğŸ†“ğŸ‡¨ğŸ‡³å¢™å†…"
    default: DIRECT
- name: "ğŸ†“ğŸ‡¨ğŸ‡³å¢™å†…"
  type: select
  proxies:
    - "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸"
    - "ğŸ†“ğŸŒ‘âœˆï¸"
    - DIRECT
- name: "ğŸŒ‘å¢™å¤–"
  type: select
  proxies:
    - "ğŸš€ğŸŒ‘å¢™å¤–"
    - "ğŸ†“ğŸŒ‘å¢™å¤–"
  ssid-policy:
    cellular: "ğŸ†“ğŸŒ‘å¢™å¤–"
    default: "ğŸš€ğŸŒ‘å¢™å¤–"
- name: "ğŸš€ğŸŒ‘å¢™å¤–"
  type: select
  proxies:
  - "ğŸ†“ğŸŒ‘âœˆï¸"
  - "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸"
- name: "ğŸ†“ğŸŒ‘å¢™å¤–"
  type: select
  proxies:
  - "ğŸ†“ğŸŒ‘âœˆï¸"
  - "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸"
- name: "ğŸ‡¨ğŸ‡³å—é™"
  type: select
  proxies:
    - "ğŸ‡¨ğŸ‡³å¢™å†…"
    - "ğŸ†“ğŸ‡¨ğŸ‡³å—é™"
  ssid-policy:
    cellular: "ğŸ†“ğŸ‡¨ğŸ‡³å—é™"
    default: "ğŸ‡¨ğŸ‡³å¢™å†…"
- name: "ğŸ†“ğŸ‡¨ğŸ‡³å—é™"
  type: select
  proxies:
  - "ğŸ†“ç™¾åº¦"
  - "ğŸ†“UC"
  - "ğŸ†“ğŸ‡¨ğŸ‡³å¢™å†…"
- name: "UDP-ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-select"
  type: select
  use:
  - cnAirport
- name: "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸"
  type: select
  proxies:
  - "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-fallback"
  - "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-url-test"
  - "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-select"
- name: "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-select"
  type: select
  use:
  - cnAirport
  
  
- name: "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-fallback"
  type: fallback
  url: http://cp.cloudflare.com/generate_204
  tolerance: 50
  lazy: true
  interval: 300
  use:
  - cnAirport
  
  
- name: "ğŸ†“ğŸ‡¨ğŸ‡³âœˆï¸-url-test"
  type: url-test
  url: http://cp.cloudflare.com/generate_204
  tolerance: 50
  lazy: true
  interval: 300
  use:
  - cnAirport
  
- name: "UDP-ğŸ†“ğŸŒ‘âœˆï¸-select"
  type: select
  use:
  - airport  
- name: "ğŸ†“ğŸŒ‘âœˆï¸"
  type: select
  proxies:
  - "ğŸ†“ğŸŒ‘âœˆï¸-fallback"
  - "ğŸ†“ğŸŒ‘âœˆï¸-url-test"
  - "ğŸ†“ğŸŒ‘âœˆï¸-select"
- name: "ğŸ†“ğŸŒ‘âœˆï¸-select"
  type: select
  use:
  - airport
  
  
- name: "ğŸ†“ğŸŒ‘âœˆï¸-fallback"
  type: fallback
  url: http://cp.cloudflare.com/generate_204
  tolerance: 50
  lazy: true
  interval: 300
  use:
  - airport
  
  
- name: "ğŸ†“ğŸŒ‘âœˆï¸-url-test"
  type: url-test
  url: http://cp.cloudflare.com/generate_204
  tolerance: 50
  lazy: true
  interval: 300
  use:
  - airport
  
proxy-providers:
  airport:
    url: "https://å›½å¤–å…æµæœºåœºclashä»£ç†è®¢é˜…"
    interval: 3600
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
  cnAirport:
    url: " https://å›½å†…å…æµæœºåœºclashä»£ç†è®¢é˜…"
    interval: 3600
    health-check:
      enable: true
      interval: 300
      url: http://cp.cloudflare.com/generate_204
rule-providers:
  AppleProxy:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AppleProxy/AppleProxy.yaml"
    path: ./ruleset/AppleProxy.yaml
    interval: 3600
  Apple:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml"
    path: ./ruleset/Apple.yaml
    interval: 3600
  China:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.yaml"
    path: ./ruleset/China.yaml
    interval: 3600
  Global:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global.yaml"
    path: ./ruleset/Global.yaml
    interval: 3600
  Global_Domain:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global_Domain.yaml"
    path: ./ruleset/Global_Domain.yaml
    interval: 3600
  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    path: ./ruleset/Telegram.yaml
    interval: 3600
  Lan:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml"
    path: ./ruleset/Lan.yaml
    interval: 3600
rules:
  # - "DOMAIN-SUFFIX,push.apple.com,DIRECT"

  - "SCRIPT,quic,REJECT"

  - "SCRIPT,udpAppleProxy,ğŸŒ‘UDP"
  - "RULE-SET,AppleProxy,ğŸŒ‘å¢™å¤–"
  
  - "SCRIPT,limitedApple,ğŸ‡¨ğŸ‡³å—é™"
  - "SCRIPT,udpApple,ğŸ‡¨ğŸ‡³UDP"
  - "RULE-SET,Apple,ğŸ‡¨ğŸ‡³å¢™å†…"
  
  - "SCRIPT,udpGlobal,ğŸŒ‘UDP"
  - "SCRIPT,udpGlobalDomain,ğŸŒ‘UDP"
  - "RULE-SET,Global_Domain,ğŸŒ‘å¢™å¤–"
  - "RULE-SET,Global,ğŸŒ‘å¢™å¤–"

  - "SCRIPT,udpTelegram,ğŸŒ‘UDP"
  - "RULE-SET,Telegram,ğŸŒ‘å¢™å¤–"

  - "SCRIPT,limitedChina,ğŸ‡¨ğŸ‡³å—é™"
  - "SCRIPT,udpChina,ğŸ‡¨ğŸ‡³UDP"
  - "RULE-SET,China,ğŸ‡¨ğŸ‡³å¢™å†…"

  - "RULE-SET,Lan,DIRECT"

  - SCRIPT,limitedCN,ğŸ‡¨ğŸ‡³å—é™
  - "SCRIPT,udpCN,ğŸ‡¨ğŸ‡³UDP"
  - "GEOIP,CN,ğŸ‡¨ğŸ‡³å¢™å†…"
  
  - "SCRIPT,udpMatch,ğŸŒ‘UDP"
  - "MATCH,ğŸŒ‘å¢™å¤–"
